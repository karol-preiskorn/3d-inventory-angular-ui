<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h3>Edit Device</h3>

      <form [formGroup]="editForm" (ngSubmit)="submitForm()">
        <div class="form-group">
          <label for="form-id" class="form-label">Id</label>
          <input
            type="text"
            formControlName="id"
            id="form-id"
            class="form-control"
            maxlength="20"
            minlength="2"
            value="{{ editForm.value.id }}"
            required
          />
          <p>Value: {{ editForm.value.id }} -</p>
          <label for="form-name" class="form-label">Name</label>
          <textarea
            class="form-control"
            formControlName="name"
            rows="2"
            id="form-name"
            maxlength="50"
            >{{ editForm.value.name }}</textarea
          >

          <label for="form-type" class="form-label">Type</label>
          <select
            (change)="changeType($event)"
            formControlName="type"
            class="form-control"
            id="form-type"
          >
            <option *ngFor="let typeObj of deviceTypeDict.list; let i = index">
              {{ typeObj.name }}
            </option>
          </select>

          <label for="form-category" class="form-label">Category</label>
          <select
            (change)="changeCategory($event)"
            formControlName="category"
            class="form-control"
            id="form-category"
          >
            <option
              *ngFor="let categoryObj of deviceCategoryDict.list; let i = index"
            >
              {{ categoryObj.name }}
            </option>
          </select>

          <div class="p-2">
            <button
              type="submit"
              [disabled]="!(editForm.valid && editForm.touched)"
              class="btn btn-primary"
            >
              Update
            </button>
            <p>Form Status: {{ editForm.status }}</p>
            <p>Form Values: {{ toString(editForm.value) }}</p>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<app-log></app-log>
